{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as platform from '../../registry/common/platform.js';\nimport { Emitter } from '../../../base/common/event.js';\nexport var Extensions = {\n  JSONContribution: 'base.contributions.json'\n};\n\nfunction normalizeId(id) {\n  if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n    return id.substring(0, id.length - 1);\n  }\n\n  return id;\n}\n\nvar JSONContributionRegistry =\n/** @class */\nfunction () {\n  function JSONContributionRegistry() {\n    this._onDidChangeSchema = new Emitter();\n    this.schemasById = {};\n  }\n\n  JSONContributionRegistry.prototype.registerSchema = function (uri, unresolvedSchemaContent) {\n    this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n\n    this._onDidChangeSchema.fire(uri);\n  };\n\n  JSONContributionRegistry.prototype.notifySchemaChanged = function (uri) {\n    this._onDidChangeSchema.fire(uri);\n  };\n\n  return JSONContributionRegistry;\n}();\n\nvar jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);","map":null,"metadata":{},"sourceType":"module"}