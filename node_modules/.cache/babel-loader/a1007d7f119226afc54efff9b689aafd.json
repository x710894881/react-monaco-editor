{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from './errors.js';\n\nvar KeyCodeStrMap =\n/** @class */\nfunction () {\n  function KeyCodeStrMap() {\n    this._keyCodeToStr = [];\n    this._strToKeyCode = Object.create(null);\n  }\n\n  KeyCodeStrMap.prototype.define = function (keyCode, str) {\n    this._keyCodeToStr[keyCode] = str;\n    this._strToKeyCode[str.toLowerCase()] = keyCode;\n  };\n\n  KeyCodeStrMap.prototype.keyCodeToStr = function (keyCode) {\n    return this._keyCodeToStr[keyCode];\n  };\n\n  KeyCodeStrMap.prototype.strToKeyCode = function (str) {\n    return this._strToKeyCode[str.toLowerCase()] || 0\n    /* Unknown */\n    ;\n  };\n\n  return KeyCodeStrMap;\n}();\n\nvar uiMap = new KeyCodeStrMap();\nvar userSettingsUSMap = new KeyCodeStrMap();\nvar userSettingsGeneralMap = new KeyCodeStrMap();\n\n(function () {\n  function define(keyCode, uiLabel, usUserSettingsLabel, generalUserSettingsLabel) {\n    if (usUserSettingsLabel === void 0) {\n      usUserSettingsLabel = uiLabel;\n    }\n\n    if (generalUserSettingsLabel === void 0) {\n      generalUserSettingsLabel = usUserSettingsLabel;\n    }\n\n    uiMap.define(keyCode, uiLabel);\n    userSettingsUSMap.define(keyCode, usUserSettingsLabel);\n    userSettingsGeneralMap.define(keyCode, generalUserSettingsLabel);\n  }\n\n  define(0\n  /* Unknown */\n  , 'unknown');\n  define(1\n  /* Backspace */\n  , 'Backspace');\n  define(2\n  /* Tab */\n  , 'Tab');\n  define(3\n  /* Enter */\n  , 'Enter');\n  define(4\n  /* Shift */\n  , 'Shift');\n  define(5\n  /* Ctrl */\n  , 'Ctrl');\n  define(6\n  /* Alt */\n  , 'Alt');\n  define(7\n  /* PauseBreak */\n  , 'PauseBreak');\n  define(8\n  /* CapsLock */\n  , 'CapsLock');\n  define(9\n  /* Escape */\n  , 'Escape');\n  define(10\n  /* Space */\n  , 'Space');\n  define(11\n  /* PageUp */\n  , 'PageUp');\n  define(12\n  /* PageDown */\n  , 'PageDown');\n  define(13\n  /* End */\n  , 'End');\n  define(14\n  /* Home */\n  , 'Home');\n  define(15\n  /* LeftArrow */\n  , 'LeftArrow', 'Left');\n  define(16\n  /* UpArrow */\n  , 'UpArrow', 'Up');\n  define(17\n  /* RightArrow */\n  , 'RightArrow', 'Right');\n  define(18\n  /* DownArrow */\n  , 'DownArrow', 'Down');\n  define(19\n  /* Insert */\n  , 'Insert');\n  define(20\n  /* Delete */\n  , 'Delete');\n  define(21\n  /* KEY_0 */\n  , '0');\n  define(22\n  /* KEY_1 */\n  , '1');\n  define(23\n  /* KEY_2 */\n  , '2');\n  define(24\n  /* KEY_3 */\n  , '3');\n  define(25\n  /* KEY_4 */\n  , '4');\n  define(26\n  /* KEY_5 */\n  , '5');\n  define(27\n  /* KEY_6 */\n  , '6');\n  define(28\n  /* KEY_7 */\n  , '7');\n  define(29\n  /* KEY_8 */\n  , '8');\n  define(30\n  /* KEY_9 */\n  , '9');\n  define(31\n  /* KEY_A */\n  , 'A');\n  define(32\n  /* KEY_B */\n  , 'B');\n  define(33\n  /* KEY_C */\n  , 'C');\n  define(34\n  /* KEY_D */\n  , 'D');\n  define(35\n  /* KEY_E */\n  , 'E');\n  define(36\n  /* KEY_F */\n  , 'F');\n  define(37\n  /* KEY_G */\n  , 'G');\n  define(38\n  /* KEY_H */\n  , 'H');\n  define(39\n  /* KEY_I */\n  , 'I');\n  define(40\n  /* KEY_J */\n  , 'J');\n  define(41\n  /* KEY_K */\n  , 'K');\n  define(42\n  /* KEY_L */\n  , 'L');\n  define(43\n  /* KEY_M */\n  , 'M');\n  define(44\n  /* KEY_N */\n  , 'N');\n  define(45\n  /* KEY_O */\n  , 'O');\n  define(46\n  /* KEY_P */\n  , 'P');\n  define(47\n  /* KEY_Q */\n  , 'Q');\n  define(48\n  /* KEY_R */\n  , 'R');\n  define(49\n  /* KEY_S */\n  , 'S');\n  define(50\n  /* KEY_T */\n  , 'T');\n  define(51\n  /* KEY_U */\n  , 'U');\n  define(52\n  /* KEY_V */\n  , 'V');\n  define(53\n  /* KEY_W */\n  , 'W');\n  define(54\n  /* KEY_X */\n  , 'X');\n  define(55\n  /* KEY_Y */\n  , 'Y');\n  define(56\n  /* KEY_Z */\n  , 'Z');\n  define(57\n  /* Meta */\n  , 'Meta');\n  define(58\n  /* ContextMenu */\n  , 'ContextMenu');\n  define(59\n  /* F1 */\n  , 'F1');\n  define(60\n  /* F2 */\n  , 'F2');\n  define(61\n  /* F3 */\n  , 'F3');\n  define(62\n  /* F4 */\n  , 'F4');\n  define(63\n  /* F5 */\n  , 'F5');\n  define(64\n  /* F6 */\n  , 'F6');\n  define(65\n  /* F7 */\n  , 'F7');\n  define(66\n  /* F8 */\n  , 'F8');\n  define(67\n  /* F9 */\n  , 'F9');\n  define(68\n  /* F10 */\n  , 'F10');\n  define(69\n  /* F11 */\n  , 'F11');\n  define(70\n  /* F12 */\n  , 'F12');\n  define(71\n  /* F13 */\n  , 'F13');\n  define(72\n  /* F14 */\n  , 'F14');\n  define(73\n  /* F15 */\n  , 'F15');\n  define(74\n  /* F16 */\n  , 'F16');\n  define(75\n  /* F17 */\n  , 'F17');\n  define(76\n  /* F18 */\n  , 'F18');\n  define(77\n  /* F19 */\n  , 'F19');\n  define(78\n  /* NumLock */\n  , 'NumLock');\n  define(79\n  /* ScrollLock */\n  , 'ScrollLock');\n  define(80\n  /* US_SEMICOLON */\n  , ';', ';', 'OEM_1');\n  define(81\n  /* US_EQUAL */\n  , '=', '=', 'OEM_PLUS');\n  define(82\n  /* US_COMMA */\n  , ',', ',', 'OEM_COMMA');\n  define(83\n  /* US_MINUS */\n  , '-', '-', 'OEM_MINUS');\n  define(84\n  /* US_DOT */\n  , '.', '.', 'OEM_PERIOD');\n  define(85\n  /* US_SLASH */\n  , '/', '/', 'OEM_2');\n  define(86\n  /* US_BACKTICK */\n  , '`', '`', 'OEM_3');\n  define(110\n  /* ABNT_C1 */\n  , 'ABNT_C1');\n  define(111\n  /* ABNT_C2 */\n  , 'ABNT_C2');\n  define(87\n  /* US_OPEN_SQUARE_BRACKET */\n  , '[', '[', 'OEM_4');\n  define(88\n  /* US_BACKSLASH */\n  , '\\\\', '\\\\', 'OEM_5');\n  define(89\n  /* US_CLOSE_SQUARE_BRACKET */\n  , ']', ']', 'OEM_6');\n  define(90\n  /* US_QUOTE */\n  , '\\'', '\\'', 'OEM_7');\n  define(91\n  /* OEM_8 */\n  , 'OEM_8');\n  define(92\n  /* OEM_102 */\n  , 'OEM_102');\n  define(93\n  /* NUMPAD_0 */\n  , 'NumPad0');\n  define(94\n  /* NUMPAD_1 */\n  , 'NumPad1');\n  define(95\n  /* NUMPAD_2 */\n  , 'NumPad2');\n  define(96\n  /* NUMPAD_3 */\n  , 'NumPad3');\n  define(97\n  /* NUMPAD_4 */\n  , 'NumPad4');\n  define(98\n  /* NUMPAD_5 */\n  , 'NumPad5');\n  define(99\n  /* NUMPAD_6 */\n  , 'NumPad6');\n  define(100\n  /* NUMPAD_7 */\n  , 'NumPad7');\n  define(101\n  /* NUMPAD_8 */\n  , 'NumPad8');\n  define(102\n  /* NUMPAD_9 */\n  , 'NumPad9');\n  define(103\n  /* NUMPAD_MULTIPLY */\n  , 'NumPad_Multiply');\n  define(104\n  /* NUMPAD_ADD */\n  , 'NumPad_Add');\n  define(105\n  /* NUMPAD_SEPARATOR */\n  , 'NumPad_Separator');\n  define(106\n  /* NUMPAD_SUBTRACT */\n  , 'NumPad_Subtract');\n  define(107\n  /* NUMPAD_DECIMAL */\n  , 'NumPad_Decimal');\n  define(108\n  /* NUMPAD_DIVIDE */\n  , 'NumPad_Divide');\n})();\n\nexport var KeyCodeUtils;\n\n(function (KeyCodeUtils) {\n  function toString(keyCode) {\n    return uiMap.keyCodeToStr(keyCode);\n  }\n\n  KeyCodeUtils.toString = toString;\n\n  function fromString(key) {\n    return uiMap.strToKeyCode(key);\n  }\n\n  KeyCodeUtils.fromString = fromString;\n\n  function toUserSettingsUS(keyCode) {\n    return userSettingsUSMap.keyCodeToStr(keyCode);\n  }\n\n  KeyCodeUtils.toUserSettingsUS = toUserSettingsUS;\n\n  function toUserSettingsGeneral(keyCode) {\n    return userSettingsGeneralMap.keyCodeToStr(keyCode);\n  }\n\n  KeyCodeUtils.toUserSettingsGeneral = toUserSettingsGeneral;\n\n  function fromUserSettings(key) {\n    return userSettingsUSMap.strToKeyCode(key) || userSettingsGeneralMap.strToKeyCode(key);\n  }\n\n  KeyCodeUtils.fromUserSettings = fromUserSettings;\n})(KeyCodeUtils || (KeyCodeUtils = {}));\n\nexport function KeyChord(firstPart, secondPart) {\n  var chordPart = (secondPart & 0x0000FFFF) << 16 >>> 0;\n  return (firstPart | chordPart) >>> 0;\n}\nexport function createKeybinding(keybinding, OS) {\n  if (keybinding === 0) {\n    return null;\n  }\n\n  var firstPart = (keybinding & 0x0000FFFF) >>> 0;\n  var chordPart = (keybinding & 0xFFFF0000) >>> 16;\n\n  if (chordPart !== 0) {\n    return new ChordKeybinding([createSimpleKeybinding(firstPart, OS), createSimpleKeybinding(chordPart, OS)]);\n  }\n\n  return new ChordKeybinding([createSimpleKeybinding(firstPart, OS)]);\n}\nexport function createSimpleKeybinding(keybinding, OS) {\n  var ctrlCmd = keybinding & 2048\n  /* CtrlCmd */\n  ? true : false;\n  var winCtrl = keybinding & 256\n  /* WinCtrl */\n  ? true : false;\n  var ctrlKey = OS === 2\n  /* Macintosh */\n  ? winCtrl : ctrlCmd;\n  var shiftKey = keybinding & 1024\n  /* Shift */\n  ? true : false;\n  var altKey = keybinding & 512\n  /* Alt */\n  ? true : false;\n  var metaKey = OS === 2\n  /* Macintosh */\n  ? ctrlCmd : winCtrl;\n  var keyCode = keybinding & 255\n  /* KeyCode */\n  ;\n  return new SimpleKeybinding(ctrlKey, shiftKey, altKey, metaKey, keyCode);\n}\n\nvar SimpleKeybinding =\n/** @class */\nfunction () {\n  function SimpleKeybinding(ctrlKey, shiftKey, altKey, metaKey, keyCode) {\n    this.ctrlKey = ctrlKey;\n    this.shiftKey = shiftKey;\n    this.altKey = altKey;\n    this.metaKey = metaKey;\n    this.keyCode = keyCode;\n  }\n\n  SimpleKeybinding.prototype.equals = function (other) {\n    return this.ctrlKey === other.ctrlKey && this.shiftKey === other.shiftKey && this.altKey === other.altKey && this.metaKey === other.metaKey && this.keyCode === other.keyCode;\n  };\n\n  SimpleKeybinding.prototype.isModifierKey = function () {\n    return this.keyCode === 0\n    /* Unknown */\n    || this.keyCode === 5\n    /* Ctrl */\n    || this.keyCode === 57\n    /* Meta */\n    || this.keyCode === 6\n    /* Alt */\n    || this.keyCode === 4\n    /* Shift */\n    ;\n  };\n\n  SimpleKeybinding.prototype.toChord = function () {\n    return new ChordKeybinding([this]);\n  };\n  /**\n   * Does this keybinding refer to the key code of a modifier and it also has the modifier flag?\n   */\n\n\n  SimpleKeybinding.prototype.isDuplicateModifierCase = function () {\n    return this.ctrlKey && this.keyCode === 5\n    /* Ctrl */\n    || this.shiftKey && this.keyCode === 4\n    /* Shift */\n    || this.altKey && this.keyCode === 6\n    /* Alt */\n    || this.metaKey && this.keyCode === 57\n    /* Meta */\n    ;\n  };\n\n  return SimpleKeybinding;\n}();\n\nexport { SimpleKeybinding };\n\nvar ChordKeybinding =\n/** @class */\nfunction () {\n  function ChordKeybinding(parts) {\n    if (parts.length === 0) {\n      throw illegalArgument(\"parts\");\n    }\n\n    this.parts = parts;\n  }\n\n  ChordKeybinding.prototype.equals = function (other) {\n    if (other === null) {\n      return false;\n    }\n\n    if (this.parts.length !== other.parts.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.parts.length; i++) {\n      if (!this.parts[i].equals(other.parts[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return ChordKeybinding;\n}();\n\nexport { ChordKeybinding };\n\nvar ResolvedKeybindingPart =\n/** @class */\nfunction () {\n  function ResolvedKeybindingPart(ctrlKey, shiftKey, altKey, metaKey, kbLabel, kbAriaLabel) {\n    this.ctrlKey = ctrlKey;\n    this.shiftKey = shiftKey;\n    this.altKey = altKey;\n    this.metaKey = metaKey;\n    this.keyLabel = kbLabel;\n    this.keyAriaLabel = kbAriaLabel;\n  }\n\n  return ResolvedKeybindingPart;\n}();\n\nexport { ResolvedKeybindingPart };\n/**\n * A resolved keybinding. Can be a simple keybinding or a chord keybinding.\n */\n\nvar ResolvedKeybinding =\n/** @class */\nfunction () {\n  function ResolvedKeybinding() {}\n\n  return ResolvedKeybinding;\n}();\n\nexport { ResolvedKeybinding };","map":null,"metadata":{},"sourceType":"module"}