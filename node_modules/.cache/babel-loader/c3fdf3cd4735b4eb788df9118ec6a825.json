{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Location, Range, SymbolKind } from '../../vscode-languageserver-types/main.js';\nexport function findDocumentSymbols(document, htmlDocument) {\n  var symbols = [];\n  htmlDocument.roots.forEach(function (node) {\n    provideFileSymbolsInternal(document, node, '', symbols);\n  });\n  return symbols;\n}\n\nfunction provideFileSymbolsInternal(document, node, container, symbols) {\n  var name = nodeToName(node);\n  var location = Location.create(document.uri, Range.create(document.positionAt(node.start), document.positionAt(node.end)));\n  var symbol = {\n    name: name,\n    location: location,\n    containerName: container,\n    kind: SymbolKind.Field\n  };\n  symbols.push(symbol);\n  node.children.forEach(function (child) {\n    provideFileSymbolsInternal(document, child, name, symbols);\n  });\n}\n\nfunction nodeToName(node) {\n  var name = node.tag;\n\n  if (node.attributes) {\n    var id = node.attributes['id'];\n    var classes = node.attributes['class'];\n\n    if (id) {\n      name += \"#\" + id.replace(/[\\\"\\']/g, '');\n    }\n\n    if (classes) {\n      name += classes.replace(/[\\\"\\']/g, '').split(/\\s+/).map(function (className) {\n        return \".\" + className;\n      }).join('');\n    }\n  }\n\n  return name || '?';\n}","map":null,"metadata":{},"sourceType":"module"}